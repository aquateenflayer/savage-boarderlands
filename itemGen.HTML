<doctypeHTM!>
<head>
	<link rel="stylesheet" type="text/css" href="itemStyle.css">
</head>
<body>
	<div class = 'item'>
	<h1 id = 'title' class = 'white' class = "textShadow"><span id = 'brand' class = "textShadow"></span> <span id = 'model' class = "textShadow" ></span></h1>
	
	<p id = 'rank' class = 'white'></p>
	<div class = 'middleText' class = 'textShadow'>
	<h2 id = 'damage' class = "middleTextColor"></h2>
	<h2 id = 'range' class = "middleTextColor"></h2>
	<h2 id = 'rateOfFire' class = "middleTextColor"></h2>
	<h2 id = 'clip' class = "middleTextColor"></h2>
	<h2 id = 'str' class = "middleTextColor"></h2>
	<h2 id = 'armorPenitration' class = "middleTextColor"></h2>
	<h2 id = 'weight' class = "middleTextColor"></h2>
</div>
<div class = "textShadow">
	<p id ='special'> </p>
</div>
</div>
<button onclick="pistolCategory()" class = "alignRight">Loot Weapon</button>
<script>



	function roll(dx) {
		var result = Math.floor((Math.random()*dx)+1);
		//console.log(result);
		return result;
	}
/////quality roll finds the rareity of the item the quality + level of gun is numbers of mods added///////
var rank = 0;
function defineQuality(){
	quality = 0
	color = 'must define'
	switch(roll(20)){
			case 1:
			quality = 1;
			color = 'green';
			break;
			case 2:
			quality = 1;
			color = 'green';
			break;
			case 3:
			quality = 1;
			color = 'green';
			break;
			case 4:
			quality = 1;
			color = 'green';
			break;
			case 5:
			quality = 1;
			color = 'green';
			break;
			case 6:
			quality = 1;
			color = 'green';
			break;
			case 7:
			quality = 1;
			color = 'green';
			break;
			case  8:
			quality = 1;
			color = 'green';
			break;
			case 9:
			quality = 1;
			color = 'green';
			break;
			case  10:
			quality = 1;
			color = 'green';
			break;
			case  11:
			quality = 1;
			color = 'green';
			break;
			case  12:
			quality = 1;
			color = 'green';
			break;
			case  13:
			quality = 2;
			color = 'blue';
			break;
			case 14:
			quality = 2;
			color = 'blue';
			break;
			case  15:
			quality = 2;
			color = 'blue';
			break;
			case  16:
			quality = 2;
			color = 'blue';
			break;
			case  17:
			quality = 2;
			color = 'blue';
			break;
			case  18:
			quality = 3;
			color = 'purple';
			break;
			case  19:
			quality = 3;
			color = 'purple';
			break;
			case  20:
			quality = 4;
			color = 'gold';
			break;
			default:

			quality = "Error"
							}
							document.getElementById("title").className = color;
							return quality;

	
}

//damage level array, move up and down array for bullet damage increace and decreace
const bulletDamageLevel = ['2d6-1','2d6','2d6+1','2d8','2d8+1','2d10','2d10+1','2d12'];

//incendiary damage steps
const incendiaryDamageLevel = ['1d4','1d4+1','1d6','1d6+1','1d8'];
// tables of the steps of ranges as they increace and decreace
const rangeLevelClose = [2,3,5,10,12,15,20,24,30,40,50];
const rangeLevelMedium = [4,6,10,20,24,30,40,48,60,80,100];
const rangeLevelLong = [8,12,20,40,48,60,82,96,120,160,200];

//shooting mode arrays///////////////
const shootingModeSteps =['Error','Semi-Automatic','3 Round Burst','Full Auto','Full Auto','Full Auto','Full Auto'];
const shootingModeRateOfFire =['error',1,1,2,3,4,5];

//Rolls what item kind of item is looted
	function itemCategory(){
		let itemType = "to be determined";
	
		//console.log(itemRoll)
		switch(roll(20)){
			case 1:
			itemType = 'pistol';
			break;
			case 2:
			itemType = 'pistol';
			break;
			case 3:
			itemType = 'pistol';
			break;
			case 4:
			itemType = 'pistol';
			break;
			case 5:
			itemType = 'smg';
			break;
			case 6:
			itemType = 'smg';
			break;
			case 7:
			itemType = 'assault rifle';
			break;
			case  8:
			itemType = 'assault rifle';
			break;
			case 9:
			itemType = 'sniper rifle';
			break;
			case  10:
			itemType = 'sniper rifle';
			break;
			case  11:
			itemType = 'shotugn';
			break;
			case  12:
			itemType = 'shotugn';
			break;
			case  13:
			itemType = 'Rocket launcher';
			break;
			case 14:
			itemType = 'Grenade mod';
			break;
			case  15:
			itemType = 'Grenade mod';
			break;
			case  16:
			itemType = 'Shield';
			break;
			case  17:
			itemType = 'Shield';
			break;
			case  18:
			itemType = 'Shield';
			break;
			case  19:
			itemType = 'Shield';
			break;
			case  20:
			itemType = 'Shield';
			break;
			default:

			itemType = "Error"
							}
							//console.log(itemType);
							return itemType;
	}



	//pistol generator
	function pistolCategory(itemType){
		///weapon base stats////
		var itemType = itemType;
		var handgun = [3,3,3,3,1,3,16,0,0];
		var aimshot = [5,5,5,3,1,4,13,,0,0];
		var powershot = [4,4,4,4,1,7,12,'d6',1];
		var bigGun = [3,3,3,4,1,5,14,0,1];
		var quickShot = [3,3,3,2,3,7,18,0,0];


		//// improvement 
		var pistolType = "Not defined yet"
			switch(1){
			case 1:
			 var weapon = handgun;
			handgunBrand(weapon);
			break;
			case 2:
			var weapon = handgun;
			handgunBrand(weapon);
			break;
			case 3:
			var weapon = handgun;
			handgunBrand(weapon);
			break;
			case 4:
			var weapon = handgun;
			handgunBrand(weapon);
			break;
			case 5:
			pistolType = 'Aimshot';
			break;
			case 6:
			pistolType = 'Aimshot';
			break;
			case 7:
			pistolType = 'Aimshot';
			break;
			case  8:
			pistolType = 'Aimshot';
			break;
			case 9:
			pistolType = 'Powershot';
			break;
			case  10:
			pistolType = 'Powershot';
			break;
			case  11:
			pistolType = 'Powershot';
			break;
			case  12:
			pistolType = 'Powershot';
			break;
			case  13:
			pistolType = 'Big Gun';
			break;
			case 14:
			pistolType = 'Big Gun';
			break;
			case  15:
			pistolType = 'Big Gun';
			break;
			case  16:
			pistolType = 'Big Gun';
			break;
			case  17:
			pistolType = 'Quickshot';
			break;
			case  18:
			pistolType = 'Quickshot';
			break;
			case  19:
			pistolType = 'Quickshot';
			break;
			case  20:
			pistolType = 'Quickshot';
			break;
			default:

			itemType = "Error"
				}
				}
// hand gun brand & model generator
	function handgunBrand(weapon, itemType){
		//ranges short 0,medium 1, long 2, bullet damage level array 3, rate of fire 4, weight 5, clipsize 6, str 7, armor penetration 8
		var itemType = itemType
		var weapon = weapon;
		weapon.element = null;
		weapon.quality = defineQuality();
		weapon.improvementsMax = quality + rank;
		weapon.improvements =0;

		var brand = "Not defined yet"
			switch(roll(20)){
			case 1:
			brand = 'Bandit ';
			model ='Pistal';
			weapon = bandit(weapon);
			break;
			case 2:
			brand = 'Bandit ';
			model ='Pistal';
			weapon = bandit(weapon);
			break;
			case 3:
			brand = 'Bandit ';
			pistolModel ='Pistal';
			weapon = bandit(weapon);
			break;
			case 4:
			brand = 'Dahl ';
			model ='Repeater';
			weapon = dhal(weapon);
			break;
			case 5:
			brand = 'Dahl ';
			model ='Repeater';
			weapon = dhal(weapon);
			break;
			case 6:
			brand = 'Dahl ';
			model ='Repeater';
			weapon = dhal(weapon);
			break;
			case 7:
			brand = 'Hyperion ';
			model ='Apparatus';
			weapon = hyperion(weapon)
			break;
			case  8:
			brand = 'Hyperion ';
			model ='Apparatus';
			weapon = hyperion(weapon)
			break;
			case 9:
			brand = 'Hyperion ';
			model ='Apparatus';
			weapon = hyperion(weapon)
			break;
			case  10:
			brand = 'Jakobs ';
			model ='Revolver';
			weapon = jakobs(weapon);
			break;
			case  11:
			brand = 'Jakobs ';
			model ='Revolver';
			weapon = jakobs(weapon);
			break;
			case  12:
			brand = 'Maliwan ';
			model ='Aegis';
			weapon = maliwan(weapon);
			weapon.push("Low Rate of Fire");
			weapon[4] -= 1;
			break;
			case  13:
			brand = 'Maliwan ';
			model ='Aegis';
			weapon = maliwan(weapon);
			weapon.push("Low Rate of Fire");
			weapon[4] -= 1;
			break;
			case 14:
			brand = 'Tediore ';
			model ='Handgun';
			weapon = tediore(weapon);
			break;
			case  15:
			brand = 'Tediore ';
			model ='Handgun';
			weapon = tediore(weapon);
			break;
			case  16:
			brand = 'Tediore ';
			model ='Handgun';
			weapon = tediore(weapon);
			break;
			case  17:
			brand = 'Torgue ';
			model ='Hand Cannon';
			weapon = torgue(weapon);
			break;
			case  18:
			brand = 'Torgue ';
			model ='Hand Cannon';
			weapon = torgue(weapon);
			break;
			case  19:
			brand = 'Vladof ';
			model ='TMP';
			weapon = vladov(weapon);
			break;
			case  20:
			brand = 'Vladof ';
			model ='TMP';
			break;
			default:
			itemType = "Error"
					}



		////////////////pistol improvement section/////////////
		weapon.damageImprovement = 0;
		weapon.rangeImprovement = 0;
		weapon.clipCapacity = 0;
		weapon.apImprovment = 0;
		weapon.CorrosiveImprovement = 0;
		weapon.ShockImprovement = 0;
		weapon.incendiaryImprovementMax = roll(6);
		weapon.incendiaryImprovement = 0;
		weapon.slagImprovement = 0;
		weapon.explosive = 0;
		weapon.heavyWeapon = 0;
		weapon.stability = 0;
		weapon.aiming = 0;
		weapon.shootingMode =0;
		weapon.bayonet = 0;
		weapon.rapidReload = 0;
		weapon.barrels = 0;	

barrelsPistol(weapon);


////////////scope and zoom properities to add to weapon ////////////////////
if (weapon.aiming == 1){weapon.push('<b>Zoom</b>: +1 Shooting bonus to shots at medium range or higher as long as the firer does not move this round.');
	}else if(weapon.aiming == 2){
		weapon.push('<b>Scope</b>: +2 Shooting bonus to shots at medium range or higher as long as the firer does not move this round.');
	}


	//////add shooting mode to weapons////
	if (weapon.shootingMode > 0){
		shootingModeText = shootingModeSteps[weapon.shootingMode] + shootingModeRateOfFire[weapon.shootingMode];
		weapon.push(shootingModeText);
		weapon[4] = weapon.shootingMode - 1;
	}


/////////add in weapon barrel damage for pistols,smgs and assault rifles (todo)/////
	if( weapon.barrels > 0){
		weapon.damage = bulletDamageLevel[damage] + " + " + weapon.barrelsDamage

	}

/////////////////////post the html//////////////////
		postWeapon(brand,model,weapon[0],weapon[1],weapon[2],weapon[3],weapon[4],weapon[5],weapon[6],weapon[7],weapon[8],weapon,weapon.element);
	}

 function pistolImprovements(weapon){
 	result = roll(20);
 	if( result < 4){
 		return damage(weapon);
 	}else if( result < 6){
 		return range(weapon);
 	}else if( result < 8){
 		return clipCapacity(weapon);
 	}else if(result < 10){
 		return ap(weapon);
 	}else if (result < 12){
 		return sepcialDamage(weapon);
 	}else if (result < 14){
 		return stabilityPistol(weapon);
 	}else if (result < 16){
 		return aiming(weapon);
 	}else if (result <18){
 		return shootingMode(weapon);
 	}else if(result == 18){
 		return bayonet(weapon);
 	}else if(result == 19){
 		return rapidReload(weapon);
 	}else if(result == 20){
 		return barrelsPistol(weapon)
 	}
 }


 //////improvenemt functions/////////////////

 ///increace weapon damage///
function damage(weapon){
	weapon.damageImprovement++;
	weapon[3] += 1;
	weapon.improvements++;
	return weapon;
}
// increace weapon range///
function range(weapon){
	weapon.rangeImprovement++;
	weapon.improvements++;;
	weapon[0] ++;
	weapon[1] ++;
	weapon[2] ++;
	return weapon;
}

///improve ammo in clip///////
function clipCapacity(weapon){
	weapon.clipCapacity++;
	weapon.improvements++;
var capacity = [1.5,2,3];
 	weapon[6] = weapon[6] * capacity[weapon.clipCapacity];
 	return weapon;
}

function AP(weapon){
	weapon.apImprovement++;
	weapon.improvements++;
	weapon[8] ++;
	return weapon;
}

function sepcialDamage(weapon, itemType){
if(itemType == pistol)
	specialDamagePistol(weapon);
}

function specialDamagePistol(weapon){
 weapon = weapon;
 if(element == null){
 	addElementPistol(weapon);
 }
}

function addElementPistol(weapon){
	result = 20;
	if(result < 6){
		if (weapon.CorrosiveImprovement < 3){
		corrosive(weapon);
	}else {console.log("Corrosive max. reroll funcion goes here");
																}
	}else if(result < 11){
		if (weapon.ShockImprovement < 3){
		shock(weapon);
	}else{ console.log("Shock max. reroll funcion goes here");
																}
	}else if (result < 16){
		if(weapon.incendiaryImprovement < weapon.incendiaryImprovementMax){
		incindiary(weapon);
	}else{console.log("Shock max. reroll funcion goes here");
																}
	}
	else if(result <20){
		if(weapon.slagImprovement < 1){
		slag(weapon);
	}else{console.log('already slagged reroll here');}
	}else if(result == 20){
		if(weapon.explosive < 1){
		explosive(weapon);
	}else{console.log('alreadyExplisove. reroll here');}
	}
	}

 function stabilityPistol(weapon){
 	weapon.stability++;
 	if (weapon.stability == 1){
 	weapon.push('Stability: The penalty for making rapid attacks with the revolver is reduced to -3 instead of -4.');
 }else{
 	weapon.push('Stability: The penalty for making rapid attacks with the revolver is reduced to -2 instead of -4.');
 }
 }

function aiming(weapon){
	weapon.improvements++;
	weapon.aiming++;
	
	console.log(weapon.aiming);
		return weapon;
}

function shootingMode(weapon){
	weapon.improvements++;
	weapon.shootingMode ++;
}

function bayonet(weapon){
	weapon.bayonet++;
	weapon.improvements++;
	if(weapon.bayonet == 1){
		weapon.push('Bayonet: (Str + d8)');
	}else if(weapon.bayonet == 1){
		weapon.push('Bayonet: (Str + d10)');
	}
}

function rapidReload(weapon){
	weapon.rapidReload++;
	weapon.improvements++;
	weapon.push('<b>Rapid Reload:</b> allows its user to ignore any multi-action penalty that may be caused by reloading it.')
}

function barrelsPistol(weapon){
	weapon.barrels++;
	weapon.improvements++
}

///////all element effects functions////////////////////////////////////////////////////////////////////////
	function corrosive(weapon){
		weapon.element = "Corrosive";
			weapon.CorrosiveImprovement++;
			weapon.improvements++;
			weapon[8]++;
			weapon.push( "<span class = 'green'><b>Special Damage Corrosive:</b> The AP value of a weapon is augmented by 1 for each level of corrosive damage it deals. The final AP value can only affect physical armor (bulletproof vests, hard carapaces, car parts, and so on) and is simply ignored against shields.<br>If the damage dealt by a corrosive weapon is higher than its target’s shield Capacity, the target’s physical armor value is permanently reduced by the AP value of the corrosive weapon.<br> When armor has a different protection value against bullets and melee weapons, both protection valuesare affected by this.<br>    <b>Note:</b> this effect occurs once the damage has actually been inflicted. The armor’s lowered protection value will therefore only affect future damage.</span>");
		}

	function shock(weapon){
		weapon.element = "Shock";
		weapon.ShockImprovement++;
		weapon.improvements++;
			weapon[8] += 2;
			weapon.push( "<span class = 'blue'><b>Special Damage Shock:</b> The AP value of a shock weapon is augmented by 2 for each level of shock damage it deals. The final AP of the weapon only affects shields.</span>");
	}

	function incindiary(weapon){
		weapon.element = "Incendiary";
		weapon.incendiaryImprovement++;
		weapon.improvements++;
		weapon.elementDamage = 0;
				weapon.push("<span class = 'red'><b>Special Damage Incendiary:</b> Weapons dealing incendiary damage don’t get the benefit of their AP value. On the other hand, if the damage they deal to a target is enough to shake or wound it, they add extra fire damage to the initial damage roll.</span>");
	}

	function slag(weapon){
		weapon.element = "Slag";
		weapon.slagImprovement++;
		weapon.improvements++;
			weapon.push( "<span class = 'Purple'><b>Special Damage Slag:</b> A target hit by a slag weapon and suffering enough damage to be shaken or wounded is considered slagged. All non-slag damage dealt to a slaggedtarget is increased by 2.<br>    A slagged creature may spend an action to unslag itself </span>");
	}

	function explosive(weapon){
		weapon.element = "Explosive";
		weapon.explosive++;
		weapon.improvements++;
		weapon.push("<b>THIS GUN SHOOTS EXPLOSIONS!</b> :When a character shoots a weapon dealing explosive damage, he must place a Small Burst Template on his target. Other creatures inside the Template must make an Agility roll with a -2 penalty or be shaken. If the weapon already uses a larger Burst Template, this effect applies inside the latter");
	}
////put the weapon stats on screen///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function postWeapon(brand,model,rangeClose,rangeMedium,rangeLong,damage,rateOfFire,weight,clip,str,armorPenitration,weapon,element){

		document.getElementById("brand").innerHTML = brand;
		document.getElementById("model").innerHTML = model;
		document.getElementById("rank").innerHTML = "<b>Rank:</b> " +rank;
		


//////////add in extra dammage for barrel upgrade
/* var postDamage= "";
if(itemType == pistol){
	if(weapon.barrels > 0){
		postDamage = weapon.damage;
	}
} */

		///////////////////////////change color of damage text depending on element and post damage)/////////////////////////

		if (element == "Corrosive"){
			document.getElementById("damage").className = "green";
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage]  + " " +  element+"</span>";
		}else if(element == "Shock" ){
			document.getElementById("damage").className = "blue";
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage]  + " " +  element+"</span>";
		}else if(element == "Incendiary"){
			document.getElementById("damage").className = "red";
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage] + " + "+ incendiaryDamageLevel[weapon.elementDamage] + " " +  element +"</span>";
		}else if (element == "Slag" ){
			document.getElementById("damage").className = "purple";
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage]  + " " +  element+"</span>";
		}else if (element == "Explosive"){
			document.getElementById("damage").className = "explosive";
			element = element.toUpperCase();
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage]  + " " +  element+"</span>";
			console.log(weapon);
		}else{
			document.getElementById("damage").className = "middleTextColor"
			document.getElementById("damage").innerHTML = "<b>Damage</b>: <span class ='alignRight'>"+ bulletDamageLevel[damage]+"</span>";
		}


////ad in ranges
		document.getElementById("range").innerHTML =	"<b>Range</b>: <span class ='alignRight'>"+ rangeLevelClose[rangeClose]+ "/"+ rangeLevelMedium[rangeMedium] + "/" + rangeLevelLong[rangeLong]+"</span>";

		/////add in rate of fire

		if (rateOfFire < 1){ rateOfFire = 1};
		document.getElementById("rateOfFire").innerHTML ="Rate of Fire: <span class ='alignRight'>" + rateOfFire+"</span>" ;


		//add in weight
		document.getElementById("weight").innerHTML ="Weight: <span class ='alignRight'>" +weight +"</span>";


		/// add in max ammo	
		document.getElementById("clip").innerHTML = "Clip Size: <span class ='alignRight'>" + clip+ "</span>";


		///add in min str to use item
		if(str != 0){
		document.getElementById("str").innerHTML = "Stength to Weild: <span class ='alignRight'>" + str + "</span>";
					}


					// add in armor penitration
		document.getElementById("armorPenitration").innerHTML = "Armor Penitration: <span class ='alignRight'>" +armorPenitration + "</span>";	
		special = "";
		if (8 < weapon.length){
			for (i =9; i < weapon.length; i++ ){
			special += "&bull; " + weapon[i] + "<br>";
													}

		/// add in the special qualities of the weapon
		var postSpecial = special;	
		special = "";										
		document.getElementById("special").innerHTML = postSpecial;
							}
	}
////////////////universal brand modifiers///////////
	function bandit(weapon){
		weapon[6] = weapon[6]*2;
		return weapon;
	}

	function dhal(weapon){
		weapon.push("3 Round Burst");
		return weapon;
	}

	function hyperion(weapon){
		weapon.push("Stability (1): penalties for shooting in full auto mode, or doing rapid attacks are reduced by one");
		return weapon;
	}
	function jakobs(weapon){
		weapon[3] += 1;
		weapon[8] += 1;
		weapon[6] = Math.floor(weapon[6]/2);
		weapon.push("Revolver");
		weapon.push("Limited Ammo");
		weapon.push("Old School Damage")
		return weapon;
	}
	function maliwan(weapon){
		weapon =  maliwanElement(weapon);
		return weapon;
	}

	///////////Random element of a granted by maliwan brand//////
	function maliwanElement(weapon){
		result = roll(20)
		if(result < 6){
			weapon.element = "Corrosive";
			weapon[8]++;
			weapon.push( "<span class = 'green'><b>Special Damage Corrosive:</b> The AP value of a weapon is augmented by 1 for each level of corrosive damage it deals. The final AP value can only affect physical armor (bulletproof vests, hard carapaces, car parts, and so on) and is simply ignored against shields.<br>If the damage dealt by a corrosive weapon is higher than its target’s shield Capacity, the target’s physical armor value is permanently reduced by the AP value of the corrosive weapon.<br> When armor has a different protection value against bullets and melee weapons, both protection valuesare affected by this.<br>    <b>Note:</b> this effect occurs once the damage has actually been inflicted. The armor’s lowered protection value will therefore only affect future damage.</span>");
		}else if (result < 11){
			weapon.element = "Shock";
			weapon[8] += 2;
			weapon.push( "<span class = 'blue'><b>Special Damage Shock:</b> The AP value of a shock weapon is augmented by 2 for each level of shock damage it deals. The final AP of the weapon only affects shields.</span>");
		}else if(result < 16){
				weapon.element = "Incendiary";
				weapon.elementDamage = 0;
				weapon.push("<span class = 'red'><b>Special Damage Incendiary:</b> Weapons dealing incendiary damage don’t get the benefit of their AP value. On the other hand, if the damage they deal to a target is enough to shake or wound it, they add extra fire damage to the initial damage roll.</span>");
		}else{
			weapon.element = "Slag";
			weapon.push( "<span class = 'Purple'><b>Special Damage Slag:</b> A target hit by a slag weapon and suffering enough damage to be shaken or wounded is considered slagged. All non-slag damage dealt to a slaggedtarget is increased by 2.<br>    A slagged creature may spend an action to unslag itself </span>");
		}	
		return weapon;
		}

	function tediore(weapon){
		weapon.push("<b>Special Reloading:</b> To reload his weapon, the shooter must throw it like a grenade. This deals the same damage as shooting the weapon in a Small Burst Template. The action needed to throw it is combined to the one needed to reload and doesn’t add any further modifiers when calculating the multi-action penalty for the character’s turn.")
		return weapon;
	}

	function torgue(weapon){
		weapon[3] += 1;
		weapon[0] -= 1;
		weapon[1] -= 1;
		weapon[2] -= 1;
		weapon[4] -= 1;
		weapon.push("<b>THIS GUN SHOOTS EXPLOSIONS!</b> :When a character shoots a weapon dealing explosive damage, he must place a Small Burst Template on his target. Other creatures inside the Template must make an Agility roll with a -2 penalty or be shaken. If the weapon already uses a larger Burst Template, this effect applies inside the latter");
		weapon.push("Low Rate of Fire");
		weapon.element = "Explosive";
		return weapon;
	}
	function vladov(weapon){
		weapon[6] = Math.floor(weapon[6]*1.5);
		return weapon;
	}
	
</script>
</body>